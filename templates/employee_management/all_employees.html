{% extends "index.html" %}
{% block title %}Rathi Sweet Home - Employee Management - All Employees{% endblock %}
{% block head %}
<link rel="stylesheet" href="{{url_for('static',filename = 'css/employee_management/all_employees.css')}}">
<script id="employee-data" type="application/json">
    {{ employees | tojson }}
</script>
<script src="{{url_for('static',filename = 'js/employee_management/all_employees.js')}}"></script>
{% endblock %}
{% block content %}
<main class="w-80 m-tb-2rem">
    <section class="all-employees">
        <div class="heading">
            <h2>All Employees</h2>
            <div>
                <button type="button" onclick="showSaveEmployeeForm()">Create</button>
                <button type="button" onclick="modifyDeleteEmployeeForm()" class="dangerButton">Modify/Delete</button>
            </div>
        </div>
        <div class="employees">
            <table>
                <tr>
                    <th>ID</th>
                    <th>NAME</th>
                    <th>AGE</th>
                    <th>ADDRESS</th>
                    <th>DATE OF BIRTH</th>
                    <th>SALARY</th>
                </tr>

                {% for employee in employees %}
                <tr>
                    <td>{{ employee._id }}</td>
                    <td>{{ employee.name }}</td>
                    <td>{{ employee.age }}</td>
                    <td>{{ employee.street_address }}, {{ employee.city }}, {{ employee.state }}</td>
                    <td>{{ employee.date_of_birth }}</td>
                    <td>{{ employee.salary }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
        <div class="all-employees-form" id="save-employee">
            <button type="button" onclick="closeSaveEmployeeForm()">Close</button>
            <form method="POST" action="/employeeManagement/allEmployees/actionEmployee" id="save-employee-form">
                <input type="hidden" name="_method" value="POST">
                <label for="name">Name</label>
                <input type="text" name="name" id="name" required><br>

                <label for="age">Age</label>
                <input type="number" name="age" id="age" required><br>

                <label for="street_address">Street Address</label>
                <input type="text" name="street_address" id="street_address" required><br>

                <label for="city">City</label>
                <input type="text" name="city" id="city" required><br>

                <label for="state">State</label>
                <input type="text" name="state" id="state" required><br>

                <label for="date_of_birth">Date of Birth</label>
                <input type="date" name="date_of_birth" id="date_of_birth" required><br>

                <label for="salary">Salary</label>
                <input type="number" name="salary" id="salary" required><br>

                <button type="submit">Submit</button>
            </form>
        </div>
        <div class="all-employees-form" id="modify-delete-employee">
            <button type="button" onclick="closeModifyDeleteEmployeeForm()">Close</button>
            <form method="POST" action="/employeeManagement/allEmployees/actionEmployee" id="modify-delete-employee-form">
                <input type="hidden" name="_method" id="modify-delete-employee-form-method" value="PUT">
                <label for="modify-name">Select Name</label>
                <select name="name" id="modify-name">
                    {% for employee in employees %}
                    <option value="{{ employee._id }}_{{employee.name}}">{{ employee.name }}</option>
                    {% endfor %}
                </select>

                <label for="modify-age">Age</label>
                <input type="number" name="age" id="modify-age" required><br>

                <label for="modify-street_address">Street Address</label>
                <input type="text" name="street_address" id="modify-street_address" required><br>

                <label for="modify-city">City</label>
                <input type="text" name="city" id="modify-city" required><br>

                <label for="modify-state">State</label>
                <input type="text" name="state" id="modify-state" required><br>

                <label for="modify-date_of_birth">Date of Birth</label>
                <input type="date" name="date_of_birth" id="modify-date_of_birth" required><br>

                <label for="modify-salary">Salary</label>
                <input type="number" name="salary" id="modify-salary" required><br>

                <div>
                    <button type="submit" id="modify-btn">Modify</button>
                    <button type="submit" id="delete-btn">Delete</button>
                </div>
            </form>
        </div>
    </section>
</main>
{% endblock %}
